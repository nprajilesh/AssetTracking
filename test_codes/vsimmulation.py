from __future__ import division
import json
import random
import time
import numpy
import redis

def redispub(m):
	r=redis.Redis("192.168.0.49")
	r.publish("ch",m)

#EY_kinfra to Radio Station route
#stops=[[76.87764,8.58521],[76.87020000000001,8.58599],[76.8713,8.570860000000001],[76.89345,8.56455],[76.9043,8.55446],[76.90519,8.54669]]
stops=[[76.90519,8.54669],[ 76.87788,8.58083],[76.87777519226074,8.581190955379238],[76.89022064208984,8.56684768001683],[76.90506935119629,8.546732234928307]]
edges={
	"0":[[76.90519,8.54669],[ 76.90534000000001,8.54677],[ 76.90549,8.546880000000002],[ 76.90564,8.546990000000001],[ 76.90606000000001,8.547310000000001],[ 76.90671,8.54785],[ 76.90719,8.54819],[ 76.90725,8.54824],[ 76.90744000000001,8.548430000000002],[ 76.90762000000001,8.5486],[ 76.90777,8.54874],[ 76.90787,8.548820000000001],[ 76.90796,8.54888],[ 76.90805,8.54894],[ 76.90821000000001,8.54903],[ 76.90826000000001,8.54907],[ 76.90830000000001,8.54911],[ 76.9084,8.54921],[ 76.9085,8.54931],[ 76.90865000000001,8.54949],[ 76.90876,8.5496],[ 76.90883000000001,8.54967],[ 76.90893000000001,8.549750000000001],[ 76.90910000000001,8.54988],[ 76.90922,8.54996],[ 76.90929000000001,8.55],[ 76.90931,8.55001],[ 76.90972000000001,8.55019],[ 76.91026000000001,8.55043],[ 76.91055,8.55056],[ 76.9107,8.550640000000001],[ 76.91082,8.55072],[ 76.91097,8.550830000000001],[ 76.91099000000001,8.55085],[ 76.911,8.550870000000002],[ 76.91101,8.550880000000001],[ 76.91101,8.5509],[ 76.91102000000001,8.550920000000001],[ 76.91102000000001,8.55095],[ 76.91102000000001,8.551020000000001],[ 76.91088,8.55103],[ 76.91074,8.55104],[ 76.91068,8.55105],[ 76.91062000000001,8.551070000000001],[ 76.91055,8.55109],[ 76.91050000000001,8.551110000000001],[ 76.91042,8.551150000000002],[ 76.91031000000001,8.551210000000001],[ 76.91022000000001,8.55127],[ 76.90983,8.551530000000001],[ 76.90945,8.55179],[ 76.90927,8.5519],[ 76.90915000000001,8.551960000000001],[ 76.90901000000001,8.55202],[ 76.90888000000001,8.55207],[ 76.90861000000001,8.552140000000001],[ 76.90839000000001,8.552200000000001],[ 76.90819,8.55227],[ 76.90786,8.552380000000001],[ 76.90726000000001,8.55259],[ 76.90673000000001,8.55278],[ 76.90654,8.55287],[ 76.90651000000001,8.55288],[ 76.90644,8.55291],[ 76.90634,8.55297],[ 76.90623000000001,8.553040000000001],[ 76.90611000000001,8.55311],[ 76.90578000000001,8.55334],[ 76.90523,8.553700000000001],[ 76.90489000000001,8.553920000000002],[ 76.90476000000001,8.55401],[ 76.90463000000001,8.554120000000001],[ 76.90458000000001,8.554160000000001],[ 76.90449000000001,8.554260000000001],[ 76.9043,8.55446],[ 76.90409000000001,8.5547],[ 76.90391000000001,8.5549],[ 76.90384,8.55498],[ 76.90379,8.55504],[ 76.90374000000001,8.55512],[ 76.9037,8.55518],[ 76.90366,8.555240000000001],[ 76.90363,8.555340000000001],[ 76.90360000000001,8.55541],[ 76.90354,8.555610000000001],[ 76.90342000000001,8.55593],[ 76.90336,8.55606],[ 76.90332000000001,8.556180000000001],[ 76.90326,8.55629],[ 76.903,8.55678],[ 76.90269,8.557300000000001],[ 76.90253000000001,8.55756],[ 76.90244000000001,8.557720000000002],[ 76.90230000000001,8.557970000000001],[ 76.90211000000001,8.558290000000001],[ 76.90203000000001,8.55845],[ 76.90193000000001,8.5587],[ 76.90190000000001,8.558760000000001],[ 76.90187,8.55887],[ 76.90184,8.55893],[ 76.90183,8.559000000000001],[ 76.90176000000001,8.559330000000001],[ 76.90171000000001,8.55959],[ 76.90168000000001,8.559690000000002],[ 76.90165,8.559750000000001],[ 76.90162000000001,8.55981],[ 76.90159000000001,8.55986],[ 76.90155,8.5599],[ 76.90152,8.559940000000001],[ 76.90148,8.55997],[ 76.90137,8.56006],[ 76.90111,8.560210000000001],[ 76.90103,8.56028],[ 76.90098,8.56032],[ 76.90095000000001,8.560360000000001],[ 76.90092,8.560400000000001],[ 76.90089,8.56044],[ 76.90084,8.560540000000001],[ 76.9008,8.56061],[ 76.90075,8.5607],[ 76.90067,8.5608],[ 76.90058,8.560880000000001],[ 76.90050000000001,8.56094],[ 76.90043,8.56098],[ 76.90036,8.561010000000001],[ 76.9003,8.56103],[ 76.90024000000001,8.56104],[ 76.90018,8.56105],[ 76.90011000000001,8.56105],[ 76.90006000000001,8.56105],[ 76.90001000000001,8.56104],[ 76.89995,8.56103],[ 76.89973,8.560960000000001],[ 76.89943000000001,8.56086],[ 76.89915,8.560780000000001],[ 76.89905,8.560770000000002],[ 76.89893000000001,8.56075],[ 76.89878,8.560730000000001],[ 76.89852,8.560730000000001],[ 76.89823000000001,8.560730000000001],[ 76.89764000000001,8.560730000000001],[ 76.89756000000001,8.560740000000001],[ 76.89753,8.560740000000001],[ 76.89747000000001,8.56075],[ 76.89742000000001,8.56076],[ 76.89733000000001,8.560780000000001],[ 76.89688000000001,8.56094],[ 76.89653000000001,8.561060000000001],[ 76.89614,8.561200000000001],[ 76.89607000000001,8.56123],[ 76.89592,8.561290000000001],[ 76.89565,8.561390000000001],[ 76.89558000000001,8.56142],[ 76.89546,8.56147],[ 76.89538,8.56151],[ 76.89527000000001,8.561580000000001],[ 76.89515,8.561670000000001],[ 76.89507,8.56173],[ 76.89498,8.561810000000001],[ 76.89488,8.56192],[ 76.89479,8.562040000000001],[ 76.8947,8.562190000000001],[ 76.89449,8.56255],[ 76.89435,8.56283],[ 76.89427,8.563],[ 76.89399,8.563550000000001],[ 76.89368,8.56413],[ 76.89358,8.56433],[ 76.89355,8.564390000000001],[ 76.8935,8.56447],[ 76.89345,8.56455],[ 76.89335000000001,8.564670000000001],[ 76.89331,8.564720000000001],[ 76.89317000000001,8.56488],[ 76.89301,8.565040000000002],[ 76.89277000000001,8.56527],[ 76.89221,8.56573],[ 76.89212,8.565800000000001],[ 76.89184,8.56602],[ 76.89176,8.566080000000001],[ 76.89163,8.566180000000001],[ 76.8913,8.56639],[ 76.89097000000001,8.566600000000001],[ 76.89092000000001,8.56663],[ 76.89067,8.566780000000001],[ 76.89053000000001,8.56686],[ 76.89047000000001,8.566880000000001],[ 76.89041,8.5669],[ 76.89036,8.56691],[ 76.89030000000001,8.566920000000001],[ 76.89025000000001,8.566920000000001],[ 76.89021000000001,8.566920000000001],[ 76.89009,8.5669],[ 76.88998000000001,8.566880000000001],[ 76.88966,8.5668],[ 76.88871,8.566550000000001],[ 76.88856000000001,8.56649],[ 76.88833000000001,8.566400000000002],[ 76.88702,8.565890000000001],[ 76.88637,8.56569],[ 76.88561,8.565470000000001],[ 76.88531,8.565380000000001],[ 76.88510000000001,8.56531],[ 76.88474000000001,8.5652],[ 76.88390000000001,8.56489],[ 76.88350000000001,8.564760000000001],[ 76.88342,8.56473],[ 76.88335000000001,8.56471],[ 76.88327000000001,8.5647],[ 76.88319000000001,8.56469],[ 76.88308,8.564680000000001],[ 76.88285,8.56466],[ 76.8828,8.56466],[ 76.88275,8.56466],[ 76.88269000000001,8.564670000000001],[ 76.88256000000001,8.564670000000001],[ 76.88254,8.564670000000001],[ 76.88149,8.56475],[ 76.88137,8.564760000000001],[ 76.88112000000001,8.564770000000001],[ 76.87920000000001,8.56493],[ 76.87837,8.56502],[ 76.87809,8.565050000000001],[ 76.8781,8.565230000000001],[ 76.87814,8.565380000000001],[ 76.8782,8.56553],[ 76.87825000000001,8.5656],[ 76.87809,8.566],[ 76.87798000000001,8.566230000000001],[ 76.87793,8.56635],[ 76.87789000000001,8.566690000000001],[ 76.87787,8.56686],[ 76.87788,8.56703],[ 76.87791,8.567400000000001],[ 76.87792,8.56766],[ 76.87792,8.56784],[ 76.87791,8.56812],[ 76.87790000000001,8.56855],[ 76.87789000000001,8.568810000000001],[ 76.87789000000001,8.56902],[ 76.87790000000001,8.569130000000001],[ 76.87797,8.56934],[ 76.878,8.569450000000002],[ 76.87804000000001,8.569560000000001],[ 76.87796,8.56959],[ 76.87815,8.569880000000001],[ 76.87823,8.570070000000001],[ 76.87824,8.57015],[ 76.87824,8.5702],[ 76.87822000000001,8.570260000000001],[ 76.87819,8.57033],[ 76.87815,8.570400000000001],[ 76.87805,8.57057],[ 76.87798000000001,8.57069],[ 76.87791,8.570860000000001],[ 76.87784,8.57103],[ 76.87781000000001,8.57112],[ 76.87778,8.571200000000001],[ 76.87778,8.571240000000001],[ 76.87777000000001,8.571280000000002],[ 76.87778,8.57132],[ 76.87782,8.571380000000001],[ 76.87786000000001,8.57144],[ 76.87790000000001,8.57151],[ 76.87792,8.57158],[ 76.87796,8.57168],[ 76.87801,8.571860000000001],[ 76.87806,8.57205],[ 76.87809,8.57215],[ 76.8781,8.572220000000002],[ 76.8781,8.57229],[ 76.87808000000001,8.57268],[ 76.87807000000001,8.573],[ 76.87807000000001,8.573080000000001],[ 76.87808000000001,8.573120000000001],[ 76.87809,8.573160000000001],[ 76.87817000000001,8.57328],[ 76.87828,8.573440000000002],[ 76.87844000000001,8.573720000000002],[ 76.87847000000001,8.573770000000001],[ 76.87851,8.573820000000001],[ 76.8786,8.573920000000001],[ 76.87870000000001,8.57407],[ 76.87874000000001,8.574190000000002],[ 76.87878,8.574340000000001],[ 76.87879000000001,8.57442],[ 76.87879000000001,8.5745],[ 76.87880000000001,8.574620000000001],[ 76.87881,8.57468],[ 76.87892000000001,8.57502],[ 76.87896,8.57512],[ 76.87905,8.57553],[ 76.87909,8.575740000000001],[ 76.87916000000001,8.576030000000001],[ 76.87924000000001,8.57623],[ 76.87935,8.576540000000001],[ 76.87936,8.576590000000001],[ 76.87937000000001,8.57665],[ 76.87938000000001,8.57695],[ 76.87942000000001,8.57741],[ 76.87943,8.577570000000001],[ 76.87941000000001,8.577810000000001],[ 76.87937000000001,8.578050000000001],[ 76.87934000000001,8.57815],[ 76.8793,8.578230000000001],[ 76.87922,8.57831],[ 76.87918,8.57834],[ 76.87913,8.578370000000001],[ 76.87909,8.57841],[ 76.87905,8.578460000000002],[ 76.87903,8.57853],[ 76.87901000000001,8.57858],[ 76.879,8.578650000000001],[ 76.87901000000001,8.57873],[ 76.87902000000001,8.57881],[ 76.87905,8.57891],[ 76.87912,8.57901],[ 76.87915000000001,8.579070000000002],[ 76.87917,8.579130000000001],[ 76.87918,8.57928],[ 76.87918,8.57934],[ 76.87920000000001,8.57942],[ 76.87923,8.57949],[ 76.87925000000001,8.57956],[ 76.87925000000001,8.579600000000001],[ 76.87926,8.579640000000001],[ 76.87926,8.57972],[ 76.87926,8.57981],[ 76.87927,8.579880000000001],[ 76.87928000000001,8.57994],[ 76.87933000000001,8.580070000000001],[ 76.87941000000001,8.580210000000001],[ 76.87946000000001,8.580290000000002],[ 76.87950000000001,8.580350000000001],[ 76.87973000000001,8.58071],[ 76.87981,8.580860000000001],[ 76.87984,8.58092],[ 76.87986000000001,8.581000000000001],[ 76.87988,8.58111],[ 76.87995000000001,8.58127],[ 76.88001000000001,8.581370000000001],[ 76.88010000000001,8.58145],[ 76.88026,8.581570000000001],[ 76.88049000000001,8.581650000000002],[ 76.88064,8.58169],[ 76.88076000000001,8.58173],[ 76.88082,8.58178],[ 76.88087,8.581840000000001],[ 76.88096,8.58195],[ 76.88109,8.58221],[ 76.88117000000001,8.58238],[ 76.88121000000001,8.58244],[ 76.88126000000001,8.58248],[ 76.8815,8.58253],[ 76.88174000000001,8.58257],[ 76.88207000000001,8.58263],[ 76.88228000000001,8.582690000000001],[ 76.88239,8.582740000000001],[ 76.88245,8.582780000000001],[ 76.88248,8.58281],[ 76.88249,8.58282],[ 76.88250000000001,8.58285],[ 76.88251000000001,8.58291],[ 76.88251000000001,8.583200000000001],[ 76.88252,8.58333],[ 76.88252,8.583390000000001],[ 76.88254,8.58343],[ 76.88255000000001,8.583450000000001],[ 76.88262,8.58352],[ 76.88271,8.583580000000001],[ 76.88277000000001,8.58364],[ 76.8828,8.5837],[ 76.88285,8.583810000000001],[ 76.88288,8.58392],[ 76.88292000000001,8.584050000000001],[ 76.88306,8.58436],[ 76.88310000000001,8.584430000000001],[ 76.88314000000001,8.58449],[ 76.88319000000001,8.584560000000002],[ 76.88326,8.584620000000001],[ 76.88339,8.584710000000001],[ 76.88347,8.58477],[ 76.88351,8.58483],[ 76.88354000000001,8.584900000000001],[ 76.88357,8.585],[ 76.8836,8.585130000000001],[ 76.88361,8.5852],[ 76.88362000000001,8.58534],[ 76.88363000000001,8.58548],[ 76.88363000000001,8.58571],[ 76.88361,8.58595],[ 76.88355,8.58613],[ 76.88345000000001,8.58633],[ 76.88323000000001,8.58669],[ 76.88282000000001,8.587340000000001],[ 76.88265000000001,8.587610000000002],[ 76.88242000000001,8.58802],[ 76.88209,8.588270000000001],[ 76.88195,8.58863],[ 76.88183000000001,8.589170000000001],[ 76.88172,8.58932],[ 76.88135000000001,8.58941],[ 76.88125000000001,8.589440000000002],[ 76.88116000000001,8.589490000000001],[ 76.88096,8.58961],[ 76.88087,8.589590000000001],[ 76.88076000000001,8.589580000000002],[ 76.88041000000001,8.58956],[ 76.88028000000001,8.589550000000001],[ 76.88016,8.58953],[ 76.88003,8.58951],[ 76.87993,8.58947],[ 76.87981,8.58943],[ 76.8797,8.58938],[ 76.87949,8.58925],[ 76.87931,8.58914],[ 76.87915000000001,8.589020000000001],[ 76.87898000000001,8.588890000000001],[ 76.87882,8.588740000000001],[ 76.87868,8.588600000000001],[ 76.87823,8.5881],[ 76.87797,8.587800000000001],[ 76.87755,8.587340000000001],[ 76.87746,8.58727],[ 76.87740000000001,8.58723],[ 76.87735,8.58722],[ 76.8773,8.587200000000001],[ 76.8772,8.587190000000001],[ 76.87699,8.587200000000001],[ 76.87702,8.58707],[ 76.87703,8.587060000000001],[ 76.87704000000001,8.58697],[ 76.87710000000001,8.586780000000001],[ 76.87721,8.58648],[ 76.87759000000001,8.5854],[ 76.8776,8.58535],[ 76.87761,8.58535],[ 76.87762000000001,8.58535],[ 76.87762000000001,8.58534],[ 76.87763000000001,8.58534],[ 76.87764,8.58533],[ 76.87765,8.585320000000001],[ 76.87765,8.585310000000002],[ 76.87766,8.585310000000002],[ 76.87766,8.5853],[ 76.87766,8.58529],[ 76.87766,8.585280000000001],[ 76.87767000000001,8.585280000000001],[ 76.87767000000001,8.585270000000001],[ 76.87767000000001,8.58526],[ 76.87766,8.58526],[ 76.87766,8.58525],[ 76.87766,8.58524],[ 76.87766,8.585230000000001],[ 76.87765,8.585230000000001],[ 76.87765,8.585220000000001],[ 76.87764,8.585220000000001],[ 76.87764,8.58521],[ 76.87763000000001,8.58521],[ 76.87763000000001,8.5852],[ 76.87762000000001,8.5852],[ 76.87761,8.5852],[ 76.87761,8.58519],[ 76.8776,8.58519],[ 76.87759000000001,8.58519],[ 76.87758000000001,8.58519],[ 76.87757,8.58519],[ 76.87756,8.58519],[ 76.87756,8.5852],[ 76.87749000000001,8.58511],[ 76.87737000000001,8.58498],[ 76.87732000000001,8.58492],[ 76.8773,8.58486],[ 76.87728000000001,8.58472],[ 76.87728000000001,8.58453],[ 76.87728000000001,8.5844],[ 76.87731000000001,8.58402],[ 76.8773,8.583680000000001],[ 76.87728000000001,8.582170000000001],[ 76.87727000000001,8.58141],[ 76.87726,8.58121],[ 76.87724,8.581000000000001],[ 76.87724,8.580900000000002],[ 76.87725,8.580810000000001],[ 76.87727000000001,8.58074],[ 76.8773,8.580680000000001],[ 76.87732000000001,8.58064],[ 76.87733,8.58064],[ 76.87734,8.58064],[ 76.87735,8.58064],[ 76.87735,8.580630000000001],[ 76.87736000000001,8.580630000000001],[ 76.87737000000001,8.580620000000001],[ 76.87738,8.58061],[ 76.87788,8.58083]]
,	
	"1":[[76.87764,8.58521],[76.87763000000001,8.58521],[76.87763000000001,8.5852],[76.87762000000001,8.5852],[76.87761,8.5852],[76.87761,8.58519],[76.8776,8.58519],[76.87759000000001,8.58519],[76.87758000000001,8.58519],[76.87757,8.58519],[76.87756,8.58519],[76.87756,8.5852],[76.87755,8.5852],[76.87754000000001,8.5852],[76.87754000000001,8.58521],[76.87753000000001,8.58521],[76.87753000000001,8.585220000000001],[76.87752,8.585220000000001],[76.87752,8.585230000000001],[76.87751,8.585230000000001],[76.87751,8.58524],[76.87751,8.58525],[76.87751,8.58526],[76.87750000000001,8.58526],[76.87750000000001,8.585270000000001],[76.87750000000001,8.585280000000001],[76.87750000000001,8.58529],[76.87751,8.58529],[76.87751,8.5853],[76.87751,8.585310000000002],[76.87752,8.585310000000002],[76.87752,8.585320000000001],[76.87752,8.58533],[76.87753000000001,8.58533],[76.87751,8.585370000000001],[76.87716,8.58647],[76.87707,8.58671],[76.87701000000001,8.586870000000001],[76.87692000000001,8.58703],[76.8769,8.58707],[76.87677000000001,8.587280000000002],[76.87636,8.587340000000001],[76.87615000000001,8.58735],[76.87575000000001,8.58737],[76.87535000000001,8.587380000000001],[76.87454000000001,8.58742],[76.87393,8.58744],[76.87354,8.58744],[76.87325000000001,8.587430000000001],[76.87292000000001,8.587380000000001],[76.87264,8.587340000000001],[76.87246,8.587290000000001],[76.87222000000001,8.58722],[76.87183,8.587060000000001],[76.8716,8.58695],[76.87138,8.58684],[76.87117,8.586730000000001],[76.87087000000001,8.58652],[76.87057,8.58629],[76.87044,8.58618],[76.87020000000001,8.58599]],
	"2":[[76.87020000000001,8.58599],[76.86977,8.58563],[76.86956,8.585460000000001],[76.86904000000001,8.585030000000001],[76.86882,8.58486],[76.86868000000001,8.584750000000001],[76.86848,8.58459],[76.86809000000001,8.584290000000001],[76.86801000000001,8.584240000000001],[76.86779,8.584090000000002],[76.86772,8.584060000000001],[76.86763,8.58402],[76.8675,8.58397],[76.86736,8.58394],[76.86716000000001,8.583910000000001],[76.86714,8.583910000000001],[76.8669,8.5839],[76.86658000000001,8.58389],[76.86624,8.583810000000001],[76.86608000000001,8.58375],[76.866,8.583720000000001],[76.86589000000001,8.583670000000001],[76.86578,8.58361],[76.86506,8.58319],[76.86484,8.583070000000001],[76.86431,8.58276],[76.86329,8.58216],[76.86354,8.581850000000001],[76.8636,8.58178],[76.86363,8.58173],[76.86374,8.58155],[76.86401000000001,8.581150000000001],[76.86404,8.581100000000001],[76.86405,8.581090000000001],[76.86406000000001,8.58108],[76.86406000000001,8.58106],[76.86406000000001,8.581050000000001],[76.86406000000001,8.581040000000002],[76.86406000000001,8.58103],[76.86413,8.58092],[76.86467,8.580160000000001],[76.86489,8.57986],[76.86534,8.579310000000001],[76.86604000000001,8.57843],[76.86638,8.578000000000001],[76.86667000000001,8.577630000000001],[76.86749,8.57665],[76.86764000000001,8.57647],[76.86808,8.575930000000001],[76.86854000000001,8.575320000000001],[76.86865,8.575140000000001],[76.86881000000001,8.57487],[76.86906,8.574430000000001],[76.86932,8.57395],[76.86952000000001,8.573540000000001],[76.86974000000001,8.573120000000001],[76.86989000000001,8.57281],[76.87016000000001,8.572330000000001],[76.87029000000001,8.572130000000001],[76.87041,8.57196],[76.87056000000001,8.571750000000002],[76.87086000000001,8.571390000000001],[76.8713,8.570860000000001]],
	"3":[[76.8713,8.570860000000001],[76.87161,8.570490000000001],[76.87211,8.569920000000002],[76.87255,8.56938],[76.87293000000001,8.568890000000001],[76.87321,8.568480000000001],[76.87360000000001,8.56785],[76.87364000000001,8.56778],[76.87379,8.56755],[76.87424,8.56682],[76.8743,8.5668],[76.87442,8.56661],[76.87479,8.566030000000001],[76.87517000000001,8.565470000000001],[76.87523,8.56548],[76.87526000000001,8.56549],[76.87528,8.56549],[76.87531000000001,8.56548],[76.87536,8.565470000000001],[76.87548000000001,8.56544],[76.87558,8.5654],[76.87578,8.5653],[76.87611000000001,8.565240000000001],[76.87641,8.5652],[76.87695000000001,8.565150000000001],[76.87747,8.565100000000001],[76.87791,8.56506],[76.87809,8.565050000000001],[76.87837,8.56502],[76.87920000000001,8.56493],[76.88112000000001,8.564770000000001],[76.88137,8.564760000000001],[76.88149,8.56475],[76.88254,8.564670000000001],[76.88256000000001,8.564670000000001],[76.88269000000001,8.564670000000001],[76.88275,8.56466],[76.8828,8.56466],[76.88285,8.56466],[76.88308,8.564680000000001],[76.88319000000001,8.56469],[76.88327000000001,8.5647],[76.88335000000001,8.56471],[76.88342,8.56473],[76.88350000000001,8.564760000000001],[76.88390000000001,8.56489],[76.88474000000001,8.5652],[76.88510000000001,8.56531],[76.88531,8.565380000000001],[76.88561,8.565470000000001],[76.88637,8.56569],[76.88702,8.565890000000001],[76.88833000000001,8.566400000000002],[76.88856000000001,8.56649],[76.88871,8.566550000000001],[76.88966,8.5668],[76.88998000000001,8.566880000000001],[76.89009,8.5669],[76.89021000000001,8.566920000000001],[76.89025000000001,8.566920000000001],[76.89030000000001,8.566920000000001],[76.89036,8.56691],[76.89041,8.5669],[76.89047000000001,8.566880000000001],[76.89053000000001,8.56686],[76.89067,8.566780000000001],[76.89092000000001,8.56663],[76.89097000000001,8.566600000000001],[76.8913,8.56639],[76.89163,8.566180000000001],[76.89176,8.566080000000001],[76.89184,8.56602],[76.89212,8.565800000000001],[76.89221,8.56573],[76.89277000000001,8.56527],[76.89301,8.565040000000002],[76.89317000000001,8.56488],[76.89331,8.564720000000001],[76.89335000000001,8.564670000000001],[76.89345,8.56455]],
	"4":[[76.89345,8.56455],[76.8935,8.56447],[76.89355,8.564390000000001],[76.89358,8.56433],[76.89368,8.56413],[76.89399,8.563550000000001],[76.89427,8.563],[76.89435,8.56283],[76.89449,8.56255],[76.8947,8.562190000000001],[76.89479,8.562040000000001],[76.89488,8.56192],[76.89498,8.561810000000001],[76.89507,8.56173],[76.89515,8.561670000000001],[76.89527000000001,8.561580000000001],[76.89538,8.56151],[76.89546,8.56147],[76.89558000000001,8.56142],[76.89565,8.561390000000001],[76.89592,8.561290000000001],[76.89607000000001,8.56123],[76.89614,8.561200000000001],[76.89653000000001,8.561060000000001],[76.89688000000001,8.56094],[76.89733000000001,8.560780000000001],[76.89742000000001,8.56076],[76.89747000000001,8.56075],[76.89753,8.560740000000001],[76.89756000000001,8.560740000000001],[76.89764000000001,8.560730000000001],[76.89823000000001,8.560730000000001],[76.89852,8.560730000000001],[76.89878,8.560730000000001],[76.89893000000001,8.56075],[76.89905,8.560770000000002],[76.89915,8.560780000000001],[76.89943000000001,8.56086],[76.89973,8.560960000000001],[76.89995,8.56103],[76.90001000000001,8.56104],[76.90006000000001,8.56105],[76.90011000000001,8.56105],[76.90018,8.56105],[76.90024000000001,8.56104],[76.9003,8.56103],[76.90036,8.561010000000001],[76.90043,8.56098],[76.90050000000001,8.56094],[76.90058,8.560880000000001],[76.90067,8.5608],[76.90075,8.5607],[76.9008,8.56061],[76.90084,8.560540000000001],[76.90089,8.56044],[76.90092,8.560400000000001],[76.90095000000001,8.560360000000001],[76.90098,8.56032],[76.90103,8.56028],[76.90111,8.560210000000001],[76.90137,8.56006],[76.90148,8.55997],[76.90152,8.559940000000001],[76.90155,8.5599],[76.90159000000001,8.55986],[76.90162000000001,8.55981],[76.90165,8.559750000000001],[76.90168000000001,8.559690000000002],[76.90171000000001,8.55959],[76.90176000000001,8.559330000000001],[76.90183,8.559000000000001],[76.90184,8.55893],[76.90187,8.55887],[76.90190000000001,8.558760000000001],[76.90193000000001,8.5587],[76.90203000000001,8.55845],[76.90211000000001,8.558290000000001],[76.90230000000001,8.557970000000001],[76.90244000000001,8.557720000000002],[76.90253000000001,8.55756],[76.90269,8.557300000000001],[76.903,8.55678],[76.90326,8.55629],[76.90332000000001,8.556180000000001],[76.90336,8.55606],[76.90342000000001,8.55593],[76.90354,8.555610000000001],[76.90360000000001,8.55541],[76.90363,8.555340000000001],[76.90366,8.555240000000001],[76.9037,8.55518],[76.90374000000001,8.55512],[76.90379,8.55504],[76.90384,8.55498],[76.90391000000001,8.5549],[76.90409000000001,8.5547],[76.9043,8.55446]],
	"5":[[76.9043,8.55446],[76.90449000000001,8.554260000000001],[76.90458000000001,8.554160000000001],[76.90463000000001,8.554120000000001],[76.90476000000001,8.55401],[76.90489000000001,8.553920000000002],[76.90523,8.553700000000001],[76.90578000000001,8.55334],[76.90611000000001,8.55311],[76.90623000000001,8.553040000000001],[76.90634,8.55297],[76.90644,8.55291],[76.90651000000001,8.55288],[76.90654,8.55287],[76.90673000000001,8.55278],[76.90726000000001,8.55259],[76.90786,8.552380000000001],[76.90819,8.55227],[76.90839000000001,8.552200000000001],[76.90861000000001,8.552140000000001],[76.90888000000001,8.55207],[76.90901000000001,8.55202],[76.90915000000001,8.551960000000001],[76.90927,8.5519],[76.90945,8.55179],[76.90983,8.551530000000001],[76.91022000000001,8.55127],[76.91031000000001,8.551210000000001],[76.91042,8.551150000000002],[76.91050000000001,8.551110000000001],[76.91055,8.55109],[76.91062000000001,8.551070000000001],[76.91068,8.55105],[76.91074,8.55104],[76.91088,8.55103],[76.91102000000001,8.551020000000001],[76.91102000000001,8.55095],[76.91102000000001,8.550920000000001],[76.91101,8.5509],[76.91101,8.550880000000001],[76.911,8.550870000000002],[76.91099000000001,8.55085],[76.91097,8.550830000000001],[76.91082,8.55072],[76.9107,8.550640000000001],[76.91055,8.55056],[76.91026000000001,8.55043],[76.90972000000001,8.55019],[76.90931,8.55001],[76.90929000000001,8.55],[76.90922,8.54996],[76.90910000000001,8.54988],[76.90893000000001,8.549750000000001],[76.90883000000001,8.54967],[76.90876,8.5496],[76.90865000000001,8.54949],[76.9085,8.54931],[76.9084,8.54921],[76.90830000000001,8.54911],[76.90826000000001,8.54907],[76.90821000000001,8.54903],[76.90805,8.54894],[76.90796,8.54888],[76.90787,8.548820000000001],[76.90777,8.54874],[76.90762000000001,8.5486],[76.90744000000001,8.548430000000002],[76.90725,8.54824],[76.90719,8.54819],[76.90671,8.54785],[76.90606000000001,8.547310000000001],[76.90564,8.546990000000001],[76.90549,8.546880000000002],[76.90534000000001,8.54677],[76.90519,8.54669]]
}
#path=["1","2","3","4","5"]
path=["0"]
deptimes=[0,240,480,660,870]
arrtimes=[180,420,600,840,960]
delta=0.5
def random_mac():
	return "".join([random.choice([repr(i) for i in range(0,10)]+["%c"%(65+i) for i in range(6)]) for _ in range(12)])

def stretch(arr,amt):
	polyx=numpy.polyfit(numpy.array(range(len(arr))),numpy.array([arr[i][0] for i in range(len(arr))]),10)
	polyy=numpy.polyfit(numpy.array(range(len(arr))),numpy.array([arr[i][1] for i in range(len(arr))]),10)
	return [[numpy.polyval(polyx,i*len(arr)/amt),numpy.polyval(polyy,i*len(arr)/amt)] for i in range(amt)]

def main():

	employees=[random_mac() for _ in range(10)]
	t=0
	j=0
	for p in range(len(path)):
		while t<deptimes[0]:
			time.sleep(delta)
			t+=1
			print {"ID":1,"Lon":stops[j][0],"Lat":stops[j][1],"t":t}
			#print [stops[j][0],stops[j][1]],","
			redispub(json.dumps({"ID":1,"Lon":stops[j][0],"Lat":stops[j][1],"t":t}))
		k=0
		j+=1
		stretched_edge=stretch(edges[path[p]],arrtimes[0]-deptimes[0])
		while t<arrtimes[0]:
			time.sleep(delta)
			t+=1
			print {"ID":1,"Lon":stretched_edge[k][0],"Lat":stretched_edge[k][1],"t":t}
			#print [stretched_edge[k][0],stretched_edge[k][1]],","
			redispub(json.dumps({"ID":1,"Lon":stretched_edge[k][0],"Lat":stretched_edge[k][1],"t":t}))
			k+=1
		deptimes.pop(0)
		arrtimes.pop(0)

if __name__=="__main__":
	main()